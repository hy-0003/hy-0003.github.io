<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="grade.css" type="text/css" />
    <title>æˆç»©å• - è´ºæ¯…</title>
</head>
<body>
    <div id="layout-content">
        <div class="grade-header">
            <h1>å­¦ä¹ æˆç»©å•</h1>
            <p class="header-subtitle">
                å…°å·å¤§å­¦æ•°å­¦ä¸ç»Ÿè®¡å­¦é™¢ | æ•°å­¦ä¸åº”ç”¨æ•°å­¦ä¸“ä¸š | å›½å®¶åŸºç¡€å­¦ç§‘æ‹”å°–å­¦ç”ŸåŸ¹å…»è®¡åˆ’
            </p>
        </div>

        <!-- ç»©ç‚¹æ¦‚è§ˆ -->
        <div class="gpa-indicator">
            <div class="gpa-value">4.02</div>
            <div class="gpa-label">å¿…ä¿®+é™é€‰è¯¾ç¨‹ GPA</div>
            
            <div class="gpa-scale">
                <div class="scale-item">
                    <div class="scale-value">4.02 / 5.0</div>
                    <div class="scale-label">å¿…ä¿®+é™é€‰</div>
                </div>
                <div class="scale-item">
                    <div class="scale-value">3.98 / 5.0</div>
                    <div class="scale-label">å…¨éƒ¨è¯¾ç¨‹</div>
                </div>
                <div class="scale-item">
                    <div class="scale-value">Top 5%</div>
                    <div class="scale-label">ä¸“ä¸šæ’å</div>
                </div>
            </div>
        </div>

        <!-- å…³é”®æ•°æ®æ¦‚è§ˆ -->
        <div class="grade-overview">
            <div class="overview-card">
                <div class="stat-value">126.2</div>
                <div class="stat-label">å·²è·æ€»å­¦åˆ†</div>
            </div>
            
            <div class="overview-card">
                <div class="stat-value">147</div>
                <div class="stat-label">åº”ä¿®æ€»å­¦åˆ†</div>
            </div>
            
            <div class="overview-card">
                <div class="stat-value">90.2</div>
                <div class="stat-label">å¹³å‡å¿…ä¿®é™é€‰å­¦åˆ†</div>
            </div>
            
            <div class="overview-card">
                <div class="stat-value">89.84</div>
                <div class="stat-label">å…¨éƒ¨è¯¾ç¨‹å¹³å‡å­¦åˆ†</div>
            </div>
        </div>

        <!-- è¯¾ç¨‹åˆ†ç±»ç»Ÿè®¡ -->
        <div class="course-stats">
            <div class="course-stat-card">
                <div class="course-stat-value">80.6</div>
                <div class="course-stat-label">å·²è·å¿…ä¿®è¯¾å­¦åˆ†</div>
                <div class="course-progress">
                    <div class="course-progress-bar" style="--progress-width: 85%;"></div>
                </div>
            </div>
            
            <div class="course-stat-card">
                <div class="course-stat-value">21</div>
                <div class="course-stat-label">å·²è·é™é€‰è¯¾å­¦åˆ†</div>
                <div class="course-progress">
                    <div class="course-progress-bar" style="--progress-width: 95%;"></div>
                </div>
            </div>
            
            <div class="course-stat-card">
                <div class="course-stat-value">24.6</div>
                <div class="course-stat-label">å·²è·ä»»é€‰è¯¾å­¦åˆ†</div>
                <div class="course-progress">
                    <div class="course-progress-bar" style="--progress-width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- PDFæˆç»©å•æŸ¥çœ‹ -->
        <div class="pdf-container">
            <div class="pdf-header">
                <h3>è¯¦ç»†æˆç»©å• PDF</h3>
                <div class="pdf-actions">
                    <a href="my-grade.pdf" class="pdf-btn download" download>
                        <span>â†“</span> ä¸‹è½½PDF
                    </a>
                    <button id="togglePdfView" class="pdf-btn view">
                        <span></span> æŸ¥çœ‹PDF
                    </button>
                </div>
            </div>
            
            <!-- PDFå ä½ç¬¦ï¼ˆå¯ç‚¹å‡»æ‰“å¼€ï¼‰ -->
            <div id="pdfPlaceholder" class="pdf-placeholder visible">
                <div class="placeholder-icon">ğŸ“„</div>
                <div class="placeholder-title">ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹æˆç»©å•</div>
                <div class="placeholder-description">
                    å…°å·å¤§å­¦å®˜æ–¹æˆç»©å•ï¼ŒåŒ…å«æ‰€æœ‰è¯¾ç¨‹æˆç»©ã€å­¦åˆ†ç»Ÿè®¡å’Œç»©ç‚¹è®¡ç®—è¯´æ˜ã€‚
                    ç‚¹å‡»æ­¤å¤„æˆ–ä¸Šæ–¹çš„"æŸ¥çœ‹PDF"æŒ‰é’®é¢„è§ˆå®Œæ•´æˆç»©å•ã€‚
                </div>
                <div class="placeholder-hint">ç‚¹å‡»æ­¤å¤„æ‰“å¼€æˆç»©å•</div>
            </div>
            
            <!-- PDFæŸ¥çœ‹å™¨ï¼ˆé»˜è®¤éšè—ï¼‰ -->
            <div id="pdfViewerContainer" class="pdf-viewer-container">
                <div id="pdfLoading" class="pdf-loading" style="display: none;">
                    <div class="spinner"></div>
                    <div class="loading-text">æ­£åœ¨åŠ è½½æˆç»©å•...</div>
                </div>
                
                <iframe 
                    id="pdfViewer"
                    class="pdf-viewer hidden"
                    src=""
                    width="100%" 
                    height="100%" 
                    frameborder="0"
                    title="æˆç»©å•PDFæ–‡ä»¶"
                    style="border: none;"
                >
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒPDFé¢„è§ˆï¼Œè¯·<a href="my-grade.pdf">ä¸‹è½½PDFæ–‡ä»¶</a>
                </iframe>
                
                <div id="pdfStatus" class="pdf-status" style="display: none;">
                    <span>æ–‡ä»¶å¤§å°: <span class="pdf-size">~2.5 MB</span></span>
                    <span>æœ€åæ›´æ–°: 2025-09-23</span>
                </div>
            </div>
            
            <div style="margin-top: 20px; font-size: 13px; color: #888; text-align: center;">
                <p>å…°å·å¤§å­¦æ•™åŠ¡å¤„å®˜æ–¹æˆç»©å• | å¦‚éœ€çº¸è´¨ç‰ˆè¯·è”ç³»æ•™åŠ¡å¤„</p>
            </div>
        </div>

        <!-- å…¨å±æŸ¥çœ‹æ¨¡å¼ -->
        <div id="pdfFullscreen" class="pdf-fullscreen">
            <button class="close-fullscreen" id="closeFullscreen">Ã—</button>
            <iframe 
                id="fullscreenPdf"
                src=""
                frameborder="0"
                title="æˆç»©å•PDFæ–‡ä»¶ï¼ˆå…¨å±æ¨¡å¼ï¼‰"
            ></iframe>
        </div>

        <!-- è¯´æ˜ä¿¡æ¯ -->
        <div style="background: #f8fafc; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; margin-top: 40px;">
            <h3 style="font-size: 16px; font-weight: 600; color: #333; margin: 0 0 15px 0; letter-spacing: 0.5px;">
                æˆç»©å•è¯´æ˜
            </h3>
            <ul style="font-size: 14px; color: #666; line-height: 1.7; padding-left: 20px; margin: 0;">
                <li>å¹³å‡å­¦åˆ†ç»©ç‚¹(GPA)é‡‡ç”¨5åˆ†åˆ¶è®¡ç®—ï¼Œ90-100åˆ†å¯¹åº”4.0-5.0ç»©ç‚¹</li>
                <li>å¿…ä¿®+é™é€‰è¯¾ç¨‹GPAï¼š4.02/5.0ï¼ˆåŒ…å«æ‰€æœ‰ä¸“ä¸šå¿…ä¿®å’Œé™é€‰è¯¾ç¨‹ï¼‰</li>
                <li>å…¨éƒ¨è¯¾ç¨‹GPAï¼š3.98/5.0ï¼ˆåŒ…å«æ‰€æœ‰å·²ä¿®è¯¾ç¨‹ï¼‰</li>
                <li>ä¸“ä¸šæ’åï¼šTop 5%ï¼ˆæ•°å­¦ä¸åº”ç”¨æ•°å­¦ä¸“ä¸šï¼‰</li>
                <li>ç†è®ºè¯¾ç¨‹18å­¦æ—¶=1å­¦åˆ†ï¼Œå®éªŒè¯¾ç¨‹36å­¦æ—¶=1å­¦åˆ†</li>
            </ul>
        </div>

        <div id="footer">
            æœ€åæ›´æ–°: 2025-12-1 | Designed by Yi He
        </div>
    </div>

    <script>
        // PDFæŸ¥çœ‹å™¨æ§åˆ¶
        document.addEventListener('DOMContentLoaded', function() {
            const toggleBtn = document.getElementById('togglePdfView');
            const pdfPlaceholder = document.getElementById('pdfPlaceholder');
            const pdfViewer = document.getElementById('pdfViewer');
            const pdfLoading = document.getElementById('pdfLoading');
            const pdfStatus = document.getElementById('pdfStatus');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const pdfFullscreen = document.getElementById('pdfFullscreen');
            const fullscreenPdf = document.getElementById('fullscreenPdf');
            const closeFullscreen = document.getElementById('closeFullscreen');
            
            let isPdfVisible = false;
            let hasLoaded = false;
            
            // æ‰“å¼€PDFæŸ¥çœ‹å™¨çš„å‡½æ•°
            function openPdfViewer() {
                if (!isPdfVisible) {
                    // æ˜¾ç¤ºPDF
                    if (!hasLoaded) {
                        // ç¬¬ä¸€æ¬¡åŠ è½½ï¼Œæ˜¾ç¤ºåŠ è½½åŠ¨ç”»
                        pdfLoading.style.display = 'flex';
                        pdfViewer.classList.remove('hidden');
                        pdfViewer.classList.add('visible');
                        
                        // è®¾ç½®PDFæº
                        pdfViewer.src = 'my-grade.pdf';
                        
                        // ç­‰å¾…PDFåŠ è½½
                        setTimeout(() => {
                            pdfLoading.style.display = 'none';
                            pdfPlaceholder.classList.remove('visible');
                            pdfPlaceholder.classList.add('hidden');
                            pdfStatus.style.display = 'flex';
                            fullscreenBtn.style.display = 'inline-flex';
                            hasLoaded = true;
                        }, 800);
                    } else {
                        // å·²ç»åŠ è½½è¿‡ï¼Œç›´æ¥æ˜¾ç¤º
                        pdfPlaceholder.classList.remove('visible');
                        pdfPlaceholder.classList.add('hidden');
                        pdfViewer.classList.remove('hidden');
                        pdfViewer.classList.add('visible');
                        pdfStatus.style.display = 'flex';
                        fullscreenBtn.style.display = 'inline-flex';
                    }
                    
                    toggleBtn.innerHTML = '<span></span> éšè—PDF';
                    isPdfVisible = true;
                }
            }
            
            // å…³é—­PDFæŸ¥çœ‹å™¨çš„å‡½æ•°
            function closePdfViewer() {
                if (isPdfVisible) {
                    // éšè—PDF
                    pdfPlaceholder.classList.remove('hidden');
                    pdfPlaceholder.classList.add('visible');
                    pdfViewer.classList.remove('visible');
                    pdfViewer.classList.add('hidden');
                    pdfStatus.style.display = 'none';
                    
                    toggleBtn.innerHTML = '<span></span> æŸ¥çœ‹PDF';
                    isPdfVisible = false;
                }
            }
            
            // åˆ‡æ¢PDFæŸ¥çœ‹å™¨æ˜¾ç¤º/éšè—
            toggleBtn.addEventListener('click', function() {
                if (isPdfVisible) {
                    closePdfViewer();
                } else {
                    openPdfViewer();
                }
            });
            
            // å ä½ç¬¦ç‚¹å‡»äº‹ä»¶ - ç‚¹å‡»å ä½ç¬¦æ‰“å¼€PDF
            pdfPlaceholder.addEventListener('click', function(e) {
                // é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé¿å…ä¸å†…éƒ¨å…ƒç´ çš„ç‚¹å‡»å†²çª
                e.stopPropagation();
                openPdfViewer();
            });
            
            // å ä½ç¬¦å†…çš„æç¤ºæ–‡æœ¬ç‚¹å‡»äº‹ä»¶
            const placeholderHint = pdfPlaceholder.querySelector('.placeholder-hint');
            if (placeholderHint) {
                placeholderHint.addEventListener('click', function(e) {
                    e.stopPropagation();
                    openPdfViewer();
                });
            }
            
            // å ä½ç¬¦å†…çš„å›¾æ ‡ç‚¹å‡»äº‹ä»¶
            const placeholderIcon = pdfPlaceholder.querySelector('.placeholder-icon');
            if (placeholderIcon) {
                placeholderIcon.addEventListener('click', function(e) {
                    e.stopPropagation();
                    openPdfViewer();
                });
            }
            
            // å ä½ç¬¦å†…çš„æ ‡é¢˜ç‚¹å‡»äº‹ä»¶
            const placeholderTitle = pdfPlaceholder.querySelector('.placeholder-title');
            if (placeholderTitle) {
                placeholderTitle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    openPdfViewer();
                });
            }
            
            // å ä½ç¬¦å†…çš„æè¿°ç‚¹å‡»äº‹ä»¶
            const placeholderDescription = pdfPlaceholder.querySelector('.placeholder-description');
            if (placeholderDescription) {
                placeholderDescription.addEventListener('click', function(e) {
                    e.stopPropagation();
                    openPdfViewer();
                });
            }
            
            // PDFæŸ¥çœ‹å™¨ç‚¹å‡»äº‹ä»¶ - ç‚¹å‡»PDFæŸ¥çœ‹å™¨æœ¬èº«ä¸å…³é—­
            pdfViewer.addEventListener('click', function(e) {
                e.stopPropagation();
                // ç‚¹å‡»PDFæŸ¥çœ‹å™¨æœ¬èº«ä¸åšä»»ä½•æ“ä½œï¼Œä¿æŒæ‰“å¼€çŠ¶æ€
            });
            
            // PDFæŸ¥çœ‹å™¨å®¹å™¨ç‚¹å‡»äº‹ä»¶
            pdfViewerContainer.addEventListener('click', function(e) {
                // é˜»æ­¢ç‚¹å‡»å®¹å™¨æ—¶å…³é—­PDF
                e.stopPropagation();
            });
            
            // å…¨å±æŸ¥çœ‹åŠŸèƒ½
            fullscreenBtn.addEventListener('click', function() {
                pdfFullscreen.classList.add('active');
                fullscreenPdf.src = 'my-grade.pdf';
                document.body.style.overflow = 'hidden';
            });
            
            closeFullscreen.addEventListener('click', function() {
                pdfFullscreen.classList.remove('active');
                fullscreenPdf.src = '';
                document.body.style.overflow = 'auto';
            });
            
            // ESCé”®é€€å‡ºå…¨å±
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && pdfFullscreen.classList.contains('active')) {
                    pdfFullscreen.classList.remove('active');
                    fullscreenPdf.src = '';
                    document.body.style.overflow = 'auto';
                }
            });
            
            // ç‚¹å‡»å…¨å±èƒŒæ™¯é€€å‡º
            pdfFullscreen.addEventListener('click', function(e) {
                if (e.target === pdfFullscreen) {
                    pdfFullscreen.classList.remove('active');
                    fullscreenPdf.src = '';
                    document.body.style.overflow = 'auto';
                }
            });
            
            // åŒå‡»PDFæŸ¥çœ‹å™¨è¿›å…¥å…¨å±æ¨¡å¼
            pdfViewerContainer.addEventListener('dblclick', function() {
                if (isPdfVisible) {
                    pdfFullscreen.classList.add('active');
                    fullscreenPdf.src = 'my-grade.pdf';
                    document.body.style.overflow = 'hidden';
                }
            });
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®ï¼šç©ºæ ¼é”®åˆ‡æ¢PDFæ˜¾ç¤º/éšè—
            document.addEventListener('keydown', function(e) {
                // å¦‚æœç„¦ç‚¹ä¸åœ¨è¾“å…¥æ¡†ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼é”®åˆ‡æ¢
                if (e.key === ' ' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                    e.preventDefault();
                    if (isPdfVisible) {
                        closePdfViewer();
                    } else {
                        openPdfViewer();
                    }
                }
            });
        });
    </script>
</body>
</html>